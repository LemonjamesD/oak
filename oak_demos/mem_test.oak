// For testing Oak's std_mem operations
// Legacy passed
// Passed Aug 3 23

package!("std");
use_rule!("std");

let test: struct
{
    data: ^i32,
}

let New(self: ^test) -> void
{
    print("Alloc called\n");

    alloc!(self.data, to_u128(5));
}

let New(self: ^test, size: i32) -> void
{   
    print("Alloc called\n");

    alloc!(self.data, to_u128(size));
}

let Del(self: ^test) -> void
{
    print("Free called\n");

    free_arr!(self.data);
}

let main() -> i32
{
    let a: test;
    a..Del();

    let b: test;
    b..New(10);
    b..Del();

    0
}