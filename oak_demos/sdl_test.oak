// For testing Oak's experimental SDL package
// Legacy passed

// Jordan Dehmel, 2023
package!("std");
use_rule!("std");

package!("sdl");

let main() -> i32
{
    sdl_init();

    let wind: sdl_window;

    print("W: ");
    print(wind.width);
    print("\n");

    print("H: ");
    print(wind.height);
    print("\n");

    //Copy(@wind, to_u64(512), to_u64(512));

    let black: sdl_color;
    let white: sdl_color;
    white..New(to_u8(255), to_u8(255), to_u8(255), to_u8(255));

    let rect: sdl_rect;
    rect..New(to_u64(10), to_u64(10), to_u64(10), to_u64(10));

    let y: i32;
    y = 0;

    print("W: ");
    print(wind.width);
    print("\n");

    print("H: ");
    print(wind.height);
    print("\n");

    while (y < wind.height)
    {
        let x: i32;
        x = 0;

        while (x < wind.width)
        {
            rect.x = to_u64(x);
            rect.y = to_u64(y);

            wind..fill(black);
            wind..draw_rect(rect, white);

            wind..show();

            sdl_delay(10);

            x += 1;
        }
    
        y += 1;
    }

    wind..Del();

    sdl_quit();

    let i: i32;
    i = 0;

    0
}
